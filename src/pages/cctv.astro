---
import Layout from "../layouts/Layout.astro";
import '@fontsource/dela-gothic-one';
---

<Layout title="VIC Seguridad - CCTV.">
        <main class="min-h-screen text-white bg-gradient-to-b from-[#0D1A28] to-[#0d1b2ac9] snap-y snap-mandatory">
                
                <h1 class="text-3xl sm:text-5xl 2xl:text-6xl text-center sm:pt-48 pt-32 px-4">
                        Cámaras de seguridad CCTV
                </h1>

                <section class="relative w-full flex flex-row items-center justify-between h-[55vh] gap-10 md:px-20 px-6 mt-16 bg-[url(/images/services/cctv/camara.jpg)] sm:bg-none bg-cover bg-center sm:bg-[white]">
                        <div class="sm:hidden absolute inset-0 bg-black/70"></div>
                
                        <div class="flex flex-col items-center sm:text-[#13171C] sm:text-left text-justify z-20">
                                <h1 class="2xl:text-4xl text-2xl text-bold py-4 w-full text-left">
                                        <strong> No pierdas de vista lo que más te importa. </strong>
                                </h1>

                                <p class="m-5 mt-0 py-3 2xl:text-2xl w-full">
                                        Instalamos sistemas de circuito cerrado de televisión (CCTV) análogos HD e IP Full HD de alta resolución, adaptados a espacios interiores y exteriores según tus necesidades. Ya sea para proteger tu negocio o reforzar la seguridad de tu hogar y familia, en <strong>VIC Seguridad</strong> estamos comprometidos con tu tranquilidad. Consultanos y descubre cómo podemos ayudarte a estar más seguro.
                                </p>

                                <button class="xl:text-lg justify-center text-center border-2 sm:border-[#13171C] shadow-lg rounded-lg mb-8 p-2 sm:hover:bg-[#0D1A28] sm:hover:text-white hover:bg-[white] hover:text-[#13171C] transition-all">
                                        <a href="/contacto">
                                                Consulta por el servicio
                                        </a>
                                </button>
                        </div>
                        
                        <div class="h-full items-center overflow-clip sm:flex hidden">
                                <img class="w-[150vw]" src="/images/services/cctv/camara.jpg" alt="">
                        </div>                        
                </section>

                <span class="flex flex-col items-center text-center sm:mt-28 mt-14 sm:mb-14 ">
                        <h1 class="text-2xl/tight sm:text-4xl/tight 2xl:text-6xl/tight">Todo lo que necesitas saber <br> sobre nuestras cámaras de seguridad</h1>
                </span>

                <section class="w-full flex md:flex-row flex-col md:px-40 px-10 pt-14 mb-28 text-pretty md:justify-between justify-center items-center gap-10">


                        <button id="bubble1" class="relative md:w-[23vw] sm:w-[50vw] w-[70vw] aspect-square bg-[url(/images/services/cctv/monitoreo.jpg)] bg-cover bg-center rounded-full content-center text-center 2xl:text-6xl text-3xl transition-all duration-500 hover:scale-110 hover:shadow-xl hover:shadow-slate-400">
                                <span id="titulo" class="block">
                                        <div class="absolute inset-0 bg-black/50 transition rounded-full"></div>
                                        <div class="relative select-none pointer-events-none justify-center flex flex-col h-full">
                                                <h2>¿Qué es?</h2>
                                        </div>
                                </span>
                                <span id="info" class="hidden">
                                        <div class="absolute inset-0 bg-black/70 transition rounded-full"></div>
                                        <div class="relative select-none pointer-events-none items-center max-h-full px-10 overflow-clip">
                                                <p class="2xl:text-3xl md:text-xl text-lg text-wrap font-semibold" style="transform: rotateY(180deg);">CCTV (Circuito Cerrado de Televisión) es un sistema de <span class="text-blue-500 text-bold">cámaras</span> conectadas que permite <span class="text-blue-500 text-bold">monitorear</span> y <span class="text-blue-500 text-bold">grabar</span> espacios en tiempo real.</p>
                                        </div>
                                </span>
                        </button>

                        <button id="bubble2" class="relative md:w-[23vw] sm:w-[50vw] w-[70vw] aspect-square bg-[url(/images/services/cctv/robo.jpg)] bg-cover  rounded-full content-center text-center 2xl:text-6xl text-3xl transition-all duration-500 hover:scale-110 hover:shadow-xl hover:shadow-slate-400">
                                <span id="titulo2" class="block">
                                        <div class="absolute inset-0 bg-black/50  transition rounded-full"></div>
                                        <div class="relative select-none pointer-events-none justify-center flex flex-col h-full">
                                                <h2>Utilidad</h2>
                                        </div>
                                </span>
                                <span id="info2" class="hidden">
                                        <div class="absolute inset-0 bg-black/70 transition rounded-full"></div>
                                        <div class="relative select-none pointer-events-none  max-h-full px-10 overflow-clip">
                                                <p class="2xl:text-3xl md:text-xl text-lg font-semibold mx-4" style="transform: rotateY(180deg);">Ideal para <span class="text-blue-500">vigilar</span>, <span class="text-blue-500">prevenir robos</span> y <span class="text-blue-500">controlar accesos</span>, mejorando la seguridad de hogares, negocios y espacios públicos.</p>
                                        </div>
                                </span>
                        </button>

                        <button id="bubble3" class="relative md:w-[23vw] sm:w-[50vw] w-[70vw] aspect-square bg-[url(/images/services/cctv/monitoreo-movil.jpg)] bg-cover bg-center rounded-full content-center text-center 2xl:text-6xl text-3xl transition-all duration-500 hover:scale-110 hover:shadow-xl hover:shadow-slate-400">
                                <span id="titulo3" class="block">
                                        <div class="absolute inset-0 bg-black/60  transition rounded-full"></div>
                                        <div class="relative select-none pointer-events-none justify-center flex flex-col overflow-clip">
                                                <h2>Beneficios</h2>
                                        </div>
                                </span>
                                <span id="info3" class="hidden">
                                        <div class="absolute inset-0 bg-black/80 transition rounded-full"></div>
                                        <div class="relative select-none pointer-events-none  max-h-full px-10 overflow-clip">
                                                <p class="2xl:text-3xl md:text-xl text-lg font-semibold mx-4" style="transform: rotateY(180deg);"><span class="text-blue-500">Disuasión del delito</span>, evidencia en video, <span class="text-blue-500">monitoreo remoto</span> y mayor tranquilidad las 24 horas desde tu propio <span class="text-blue-500">dispositivo movil</span>.</p>
                                        </div>
                                </span>
                        </button>
                </section>

                <section class="bg-white py-20 px-6 sm:px-12 text-black">
                        <div class="max-w-4xl mx-auto bg-gray-100 p-8 rounded-lg shadow-lg">
                                <h1 class="md:text-4xl text-2xl font-semibold mb-10">Cotiza tu instalación de cámaras CCTV</h1>
                                <p class="text-lg mb-6 font-medium">Selecciona cuántas cámaras deseas instalar y obtén una estimación del costo total.</p>
                                
                                <div class="flex flex-col sm:flex-row items-center gap-4">
                                        <label for="camQty" class="font-medium">Cantidad de cámaras:</label>
                                        <input
                                        id="camQty"
                                        type="number"
                                        min="1"
                                        value="1"
                                        class="border border-gray-300 rounded px-4 py-2 w-24"
                                        />
                                </div>
                                
                                <div class="mt-6 bg-white p-4 rounded">
                                        <p class="text-lg font-semibold">Costo estimado:</p>
                                        <p id="cotizacionTotal" class="text-2xl font-bold text-blue-600">$0</p>
                                </div>
                        </div>
                </section>
                        
        </main>
</Layout>

<style>
        h2{
                font-family: 'Dela Gothic One', system-ui;
        }
</style>

<script>
        // Aqui debe ir el script que agrega el efecto animate-rotate-left y animate-rotate-right a los elementos de la pagina luego de hacerles click a las cards de los servicios.
        function setupBubbleToggle(bubbleId, titleId, infoId) {
                const bubble = document.getElementById(bubbleId);
                const title = document.getElementById(titleId);
                const info = document.getElementById(infoId);

                bubble.addEventListener("click", () => {
                        const isActive = bubble.classList.contains("animate-flip-horizontal") &&
                                title.classList.contains("animate-fade-out");

                        if (isActive) {
                                bubble.classList.remove("animate-flip-horizontal");
                                title.classList.remove("animate-fade-out", "hidden");
                                info.classList.remove("animate-fade-in");
                                info.classList.add("hidden");
                        } else {
                                bubble.classList.add("animate-flip-horizontal");
                                title.classList.add("animate-fade-out");
                                
                                setTimeout(() => {
                                        title.classList.add("hidden");
                                }, 250);
                                setTimeout(() => {
                                        info.classList.add("animate-fade-in");
                                        info.classList.remove("hidden");
                                }, 500);
                        }

                        console.log(`click en ${bubbleId}`);
                });
        }

        // Aplica a todas las burbujas
        setupBubbleToggle("bubble1", "titulo", "info");
        setupBubbleToggle("bubble2", "titulo2", "info2");
        setupBubbleToggle("bubble3", "titulo3", "info3");
        // Fin del script que agrega el efecto animate-rotate-left y animate-rotate-right a los elementos de la pagina luego de hacerles click a las cards de los servicios.


        // Script para la cotización de cámaras CCTV
        const camQtyInput = document.getElementById('camQty');
        const cotizacionTotal = document.getElementById('cotizacionTotal');

        // Precios estimados
        const precioCamara = 80000;         // por cámara
        const precioConectores = 5000;      // por cámara
        const precioCableado = 5000;        // por cámara
        const precioManoObraBase = 100000;   // fijo
        const precioManoObraPorCam = 8000;  // adicional por cámara

        function calcularCosto() {
                const cantidad = parseInt((camQtyInput as HTMLInputElement).value, 10) || 0;

                // NVR depende de la cantidad (simplificado)
                let precioNVR = 0;
                if (cantidad <= 4) precioNVR = 10000;
                else if (cantidad <= 8) precioNVR = 130000;
                else if (cantidad <= 16) precioNVR = 180000;
                else if (cantidad <= 32) precioNVR = 230000;

                const total =
                cantidad * (precioCamara + precioConectores + precioCableado + precioManoObraPorCam) +
                precioNVR +
                precioManoObraBase;

                cotizacionTotal.textContent = `$${total.toLocaleString()}`;
        }

        camQtyInput.addEventListener('input', calcularCosto);

        // Calcular al cargar
        calcularCosto();
</script>
